@page
@model ReloadConfigurationModel
@{
    ViewData["Title"] = "Reload Configuration";
}

<h1>@ViewData["Title"]</h1>

<form method="post">
    <button type="submit">Reload Configuration</button>
</form>


using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Mvc.RazorPages;
using Microsoft.Extensions.Options;

public class ReloadConfigurationModel : PageModel
{
    private readonly IOptionsMonitor<KeyVaultConfiguration> _keyVaultConfiguration;

    public ReloadConfigurationModel(IOptionsMonitor<KeyVaultConfiguration> keyVaultConfiguration)
    {
        _keyVaultConfiguration = keyVaultConfiguration;
    }

    public void OnPost()
    {
        _keyVaultConfiguration.Reload();
    }
}

public void ConfigureServices(IServiceCollection services)
{
    // ...
    services.AddRazorPages();
    // ...
}


public void Configure(IApplicationBuilder app, IWebHostEnvironment env)
{
    // ...

    app.UseEndpoints(endpoints =>
    {
        endpoints.MapRazorPages();
        endpoints.MapControllerRoute(
            name: "default",
            pattern: "{controller=Home}/{action=Index}/{id?}");
    });
}
